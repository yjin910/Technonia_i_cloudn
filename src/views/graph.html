<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <title>math.js | plot</title>
        <script src="https://unpkg.com/mathjs@6.0.3/dist/math.min.js"></script>

        <script src="https://cdn.plot.ly/plotly-1.35.2.min.js"></script>

        <style>
            input[type=text] {
                width: 300px;
            }

            input {
                padding: 6px;
            }

            body,
            html,
            input {
                font-family: sans-serif;
                font-size: 11pt;

            }

            form {
                margin: 20px 0;
            }
        </style>
    </head>

    <body>

        <form id="form">
            <label for="eq1">Enter an equation:</label>
            <input type="text" id="eq1"
                value="0.3 * 0.01 * exp((-5800.22006)/(273.15+x)+(-5.516256)+(-0.04864024)*(273.15+x)+(0.000041765)*((273.15+x)^2)+(-0.000000014452)*((273.15+x)^3)+(6.5459673)*(log((273.15+x))))" />
            <input type="submit" value="Draw" />
        </form>

        <div id="plot"></div>

        <p>
            Used plot library: <a href="https://plot.ly/javascript/">Plotly</a>
        </p>

        <script>
            function draw() {
                try {
                    // compile the expression once
                    // const expression = document.getElementById('eq1').value
                    // const expr = math.compile(expression)

                    const expr = math.compile("0.62198 * (0.1 * 0.01 * exp((-5800.22006)/(273.15+x)+(-5.516256)+(-0.04864024)*(273.15+x)+(0.000041765)*((273.15+x)^2)+(-0.000000014452)*((273.15+x)^3)+(6.5459673)*(log((273.15+x))))) / (1.01325 - (0.1 * 0.01 * exp((-5800.22006)/(273.15+x)+(-5.516256)+(-0.04864024)*(273.15+x)+(0.000041765)*((273.15+x)^2)+(-0.000000014452)*((273.15+x)^3)+(6.5459673)*(log((273.15+x))))))")

                    const expr2 = math.compile("0.62198 * (0.2 * 0.01 * exp((-5800.22006)/(273.15+x)+(-5.516256)+(-0.04864024)*(273.15+x)+(0.000041765)*((273.15+x)^2)+(-0.000000014452)*((273.15+x)^3)+(6.5459673)*(log((273.15+x))))) / (1.01325 - (0.2 * 0.01 * exp((-5800.22006)/(273.15+x)+(-5.516256)+(-0.04864024)*(273.15+x)+(0.000041765)*((273.15+x)^2)+(-0.000000014452)*((273.15+x)^3)+(6.5459673)*(log((273.15+x))))))")

                    const expr3 = math.compile("0.62198 * (0.3 * 0.01 * exp((-5800.22006)/(273.15+x)+(-5.516256)+(-0.04864024)*(273.15+x)+(0.000041765)*((273.15+x)^2)+(-0.000000014452)*((273.15+x)^3)+(6.5459673)*(log((273.15+x))))) / (1.01325 - (0.3 * 0.01 * exp((-5800.22006)/(273.15+x)+(-5.516256)+(-0.04864024)*(273.15+x)+(0.000041765)*((273.15+x)^2)+(-0.000000014452)*((273.15+x)^3)+(6.5459673)*(log((273.15+x))))))")

                    const expr4 = math.compile("0.62198 * (0.4 * 0.01 * exp((-5800.22006)/(273.15+x)+(-5.516256)+(-0.04864024)*(273.15+x)+(0.000041765)*((273.15+x)^2)+(-0.000000014452)*((273.15+x)^3)+(6.5459673)*(log((273.15+x))))) / (1.01325 - (0.4 * 0.01 * exp((-5800.22006)/(273.15+x)+(-5.516256)+(-0.04864024)*(273.15+x)+(0.000041765)*((273.15+x)^2)+(-0.000000014452)*((273.15+x)^3)+(6.5459673)*(log((273.15+x))))))")

                    const expr5 = math.compile("0.62198 * (0.5 * 0.01 * exp((-5800.22006)/(273.15+x)+(-5.516256)+(-0.04864024)*(273.15+x)+(0.000041765)*((273.15+x)^2)+(-0.000000014452)*((273.15+x)^3)+(6.5459673)*(log((273.15+x))))) / (1.01325 - (0.5 * 0.01 * exp((-5800.22006)/(273.15+x)+(-5.516256)+(-0.04864024)*(273.15+x)+(0.000041765)*((273.15+x)^2)+(-0.000000014452)*((273.15+x)^3)+(6.5459673)*(log((273.15+x))))))")

                    const expr6 = math.compile("0.62198 * (0.6 * 0.01 * exp((-5800.22006)/(273.15+x)+(-5.516256)+(-0.04864024)*(273.15+x)+(0.000041765)*((273.15+x)^2)+(-0.000000014452)*((273.15+x)^3)+(6.5459673)*(log((273.15+x))))) / (1.01325 - (0.6 * 0.01 * exp((-5800.22006)/(273.15+x)+(-5.516256)+(-0.04864024)*(273.15+x)+(0.000041765)*((273.15+x)^2)+(-0.000000014452)*((273.15+x)^3)+(6.5459673)*(log((273.15+x))))))")

                    const expr7 = math.compile("0.62198 * (0.7 * 0.01 * exp((-5800.22006)/(273.15+x)+(-5.516256)+(-0.04864024)*(273.15+x)+(0.000041765)*((273.15+x)^2)+(-0.000000014452)*((273.15+x)^3)+(6.5459673)*(log((273.15+x))))) / (1.01325 - (0.7 * 0.01 * exp((-5800.22006)/(273.15+x)+(-5.516256)+(-0.04864024)*(273.15+x)+(0.000041765)*((273.15+x)^2)+(-0.000000014452)*((273.15+x)^3)+(6.5459673)*(log((273.15+x))))))")

                    const expr8 = math.compile("0.62198 * (0.8 * 0.01 * exp((-5800.22006)/(273.15+x)+(-5.516256)+(-0.04864024)*(273.15+x)+(0.000041765)*((273.15+x)^2)+(-0.000000014452)*((273.15+x)^3)+(6.5459673)*(log((273.15+x))))) / (1.01325 - (0.8 * 0.01 * exp((-5800.22006)/(273.15+x)+(-5.516256)+(-0.04864024)*(273.15+x)+(0.000041765)*((273.15+x)^2)+(-0.000000014452)*((273.15+x)^3)+(6.5459673)*(log((273.15+x))))))")

                    const expr9 = math.compile("0.62198 * (0.9 * 0.01 * exp((-5800.22006)/(273.15+x)+(-5.516256)+(-0.04864024)*(273.15+x)+(0.000041765)*((273.15+x)^2)+(-0.000000014452)*((273.15+x)^3)+(6.5459673)*(log((273.15+x))))) / (1.01325 - (0.9 * 0.01 * exp((-5800.22006)/(273.15+x)+(-5.516256)+(-0.04864024)*(273.15+x)+(0.000041765)*((273.15+x)^2)+(-0.000000014452)*((273.15+x)^3)+(6.5459673)*(log((273.15+x))))))")

                    const expr10 = math.compile("0.62198 * (0.01 * exp((-5800.22006)/(273.15+x)+(-5.516256)+(-0.04864024)*(273.15+x)+(0.000041765)*((273.15+x)^2)+(-0.000000014452)*((273.15+x)^3)+(6.5459673)*(log((273.15+x))))) / (1.01325 - (0.01 * exp((-5800.22006)/(273.15+x)+(-5.516256)+(-0.04864024)*(273.15+x)+(0.000041765)*((273.15+x)^2)+(-0.000000014452)*((273.15+x)^3)+(6.5459673)*(log((273.15+x))))))")

                    // evaluate the expression repeatedly for different values of x
                    const xValues = math.range(0, 50, 0.5).toArray()
                    const yValues1 = xValues.map(function (x) {
                        return expr.evaluate({ x: x })
                    })

                    const yValues2 = xValues.map(function (x) {
                        return expr2.evaluate({ x: x })
                    })

                    const yValues3 = xValues.map(function (x) {
                        return expr3.evaluate({ x: x })
                    })

                    const yValues4 = xValues.map(function (x) {
                        return expr4.evaluate({ x: x })
                    })

                    const yValues5 = xValues.map(function (x) {
                        return expr5.evaluate({ x: x })
                    })

                    const yValues6 = xValues.map(function (x) {
                        return expr6.evaluate({ x: x })
                    })
                    const yValues7 = xValues.map(function (x) {
                        return expr7.evaluate({ x: x })
                    })
                    const yValues8 = xValues.map(function (x) {
                        return expr8.evaluate({ x: x })
                    })
                    const yValues9 = xValues.map(function (x) {
                        return expr9.evaluate({ x: x })
                    })
                    const yValues10 = xValues.map(function (x) {
                        return expr10.evaluate({ x: x })
                    })

                    // render the plot using plotly
                    const trace1 = {
                        x: xValues,
                        y: yValues1,
                        type: 'scatter'
                    }

                    const trace2 = {
                        x: xValues,
                        y: yValues2,
                        type: 'scatter'
                    }
                    const trace3 = {
                        x: xValues,
                        y: yValues3,
                        type: 'scatter'
                    }
                    const trace4 = {
                        x: xValues,
                        y: yValues4,
                        type: 'scatter'
                    }
                    const trace5 = {
                        x: xValues,
                        y: yValues5,
                        type: 'scatter'
                    }
                    const trace6 = {
                        x: xValues,
                        y: yValues6,
                        type: 'scatter'
                    }
                    const trace7 = {
                        x: xValues,
                        y: yValues7,
                        type: 'scatter'
                    }
                    const trace8 = {
                        x: xValues,
                        y: yValues8,
                        type: 'scatter'
                    }
                    const trace9 = {
                        x: xValues,
                        y: yValues9,
                        type: 'scatter'
                    }
                    const trace10 = {
                        x: xValues,
                        y: yValues10,
                        type: 'scatter'
                    }

                    const data = [trace1, trace2, trace3, trace4, trace5, trace6, trace7, trace8, trace9, trace10]
                    Plotly.newPlot('plot', data)
                } catch (err) {
                    console.error(err)
                    alert(err)
                }
            }

            document.getElementById('form').onsubmit = function (event) {
                event.preventDefault()
                draw()
            }

            draw()
        </script>

    </body>

</html>